<h1>CRUD Rest API der følger conventioner</h1>
<p>denne dag færdigegjorde vi "drinks" Rest api og fulgte REST conventions til at lave disse:</p>
<a><img src="/assets/images/crud/getcrud.PNG" class="images" /></a>
<pre><code>
    app.get("/drinks", (req, res) => {
    res.send({ data: drinks });
  });
 </code></pre>
<p>app.get("/drinks"), beskriver hvad routen gør</p>
<a><img src="/assets/images/crud/getidcrud.PNG" class="images" /></a>
<pre><code>
    app.get("/drinks/:id", (req, res) => {
        const drinkId = Number(req.params.id);
        const foundDrink = drinks.find((drink) => drink.id === drinkId);
        if (!foundDrink) {
          res.send({ data: "drink not found" });
        } else {
          res.send({ data: foundDrink });
        }
      });
</code></pre>
<p>app.get/drinks/:id beskriver hvad det er den her route gør.</p>
<a><img src="/assets/images/crud/postcrud.PNG" class="images" /></a>
<pre><code>
    app.post("/drinks", (req, res) => {
    const newDrink = req.body;
    newDrink.id = nextId++;
    drinks.push(newDrink)
    console.log(req.body)
    res.send({ data: newDrink})
    });
</code></pre>
<p>app.post("/drinks"),beskriver hvad routen gør</p>
<a><img src="/assets/images/crud/putcrud.PNG" class="images" /></a>
<pre><code>
    app.put("/drinks/:id", (req, res) => {
        const drinkId = Number(req.params.id);                             
        const updatedDrink = req.body;                                       
        const index = drinks.findIndex((drink) => drink.id === drinkId);          
        if (index !== -1) {
          drinks[index] = updatedDrink;                                      
          res.send({ data: "Drink opdateret", data: updatedDrink });         
        } else {
          res.status(404).json({ data: "Drink blev ikke fundet" }); 
        }
      });
</code></pre>
<p>app.put("/drinks/:id") ,beskriver hvad routen gør</p>
<a><img src="/assets/images/crud/deletecrud.PNG" class="images" /></a>
<pre><code>
    app.delete('/drinks/:id', (req, res) => {  
        // findIndex, find, splice
      const drinkId = Number(req.params.id);  
      const foundDrinkIndex = drinks.findIndex((drink) => drink.id === drinkId)
      if(!foundDrinkIndex === -1)                                                
        {res.status(404).send({ error: "drink not found"})}
        else{
          drinks.splice(foundDrinkIndex, 1)                                        
          res.send({data: drinkID})
        }
    });
</code></pre>
<p>app.delete('/drinks/:id') ,beskriver hvad routen gør</p>
<p>
  fælles for dem er at de bruger drinks som er flertals betegnelsen på den recourse der ligger i "databasen"
  og de er opsat i den korrekte HTTP VERB rækkefølge
</p>

<h1>Kan få fat i Dato i javascript.</h1>
<p>for at få fat i datoen i javascript kan man bruge:</p>
<pre><code> new Date()</code></pre>
<p>så får man datoen og tid i UTC, det er standarden, alternativt:</p>
<pre><code>Date()</code></pre>
<p>kan man bruge Date() som bruger den lokale tid på ens system.</p>
<a><img src="/assets/images/date/date.PNG" class="images" /></a>
<p>jeg har eksempvis brugt Date().getFullYear til at få copyright året på footeren.</p>

<h1>kan skrive et fetch kald på kommando:</h1>
<pre><code> 
            fetch("yourheartsdesirehere")
            .then((response) => response.json)
            .then((result) => {result.data})
</code></pre>
<p>
  jojo, men hvad er det. den korte beskrivelse er at det er kald der hender data fra en API asynkront, så
  javascript kan arbejde videre mens den venter på at få et svar fra den given api der bliver fetchet fra
</p>
